# Wiki ChatBot Widget Component 

## Introducción

**ChatBot Widget Component:** es un widget personalizable diseñado para integrarse fácilmente en sistemas web y mejorar la experiencia de usuario. Este componente permite a los desarrolladores y usuarios finales interactuar con funcionalidades de chatbot de manera eficiente y adaptable a distintas necesidades.

## Características Principales

- **Interfaz personalizable**: Modifica el aspecto y comportamiento del chatbot según tus preferencias.
- **Modo colapsado y expandido**: El widget puede colapsarse para ahorrar espacio y expandirse cuando se necesite una interacción completa.
- **Mensajes de bienvenida configurables**: Permite definir el texto y la duración del mensaje de bienvenida.
- **Configuración de imagen flexible**: Incluye una imagen de logo predeterminada que puede ser personalizada mediante el atributo img en el chat-bot.html.
- **Configuraciones flexibles**: Carga de configuraciones desde un archivo `config.json` para una implementación simplificada.

## Requisitos de Implementación

1. **Entorno de desarrollo**:
   - HTML, CSS y JavaScript.
   - LitElement para la estructura y lógica de componentes.
2. **Archivos necesarios**:
   - `ChatBot.js` y `ChatBot.css` para el funcionamiento del widget.
   - `config.json` para las configuraciones base del chatbot.

## Instrucciones de Implementación

### Construcción de una Build

1. Clona este repositorio:

   ```bash
   git clone git@github.com:MOX-ANALYTICA/wilson.git
   ```

2. Ejecuta el siguiente comando para instalar las dependencias:

   ```bash
   npm install
   ```

3. Compila el proyecto con:

   ```bash
   npm run build
   ```

### Integración en tu Proyecto

1. Copia la carpeta generada denominada `dist/widget-component` a su proyecto web.
2. Para instalar el widget en su sitio web, guiarse del archivo de ejemplo `dist/index.html`, lo importante es incluir los siguientes componentes:  
    a. etiqueta scripts:

    ```html
    <script defer="defer" src="./chatbot-widget/widget.bundle.js"></script>
    <script defer="defer" src="./chatbot-widget/bubble.bundle.js"></script>
    ```

    b. link a css personalizado:

    ```html
    <link rel="stylesheet" href="./chatbot-widget/style.css" />
    ```

    c. etiqueta referenciando al widget component:

    ```html
    <widget-element></widget-element>
    ```
<!--
2. Inserta el siguiente código en tu página HTML:
```html
<script src="ruta/a/chat-bot.js"></script>
<chat-bot
    name="Asistente Virtual"
    img="bot-logo.png"
    welcome-message="¡Hola! ¿En qué puedo ayudarte?"
    welcome-message-time="5000"
    initial-bottom="16px"
    initial-right="16px"
    draggable="true"
    collapsible="true">
</chat-bot>
```
-->

## Configuraciones Personalizables

El archivo `config.json` permite definir parámetros por defecto:

```json
{
    "API_URL": "https://api.ejemplo.com",
    "CHATBOT_DRAGGABLE": "true",
    "CHATBOT_COLLAPSIBLE": "true",
    "CHATBOT_INITIAL_BOTTOM": "16px",
    "CHATBOT_INITIAL_RIGHT": "16px",
    "CHATBOT_WELCOME_MESSAGE_TEXT": "¡Hola! ¿En qué puedo ayudarte?",
    "CHATBOT_WELCOME_MESSAGE_TIME": 5000
}
```

### Documentación de los Atributos

A continuación, se describe el significado de cada atributo que se puede utilizar en el componente:

**name**: Define el nombre que se mostrará en el encabezado del chatbot.

**img**: URL de la imagen del logo del chatbot. Si no se proporciona, se usará la imagen predeterminada configurada en codigo html img="../component/assets/chat.png".

**welcome-message**: Texto del mensaje de bienvenida que se mostrará al iniciar el chatbot.

**welcome-message-time**: Tiempo en milisegundos durante el cual se mostrará el mensaje de bienvenida.

**initial-bottom**: Posición desde la parte inferior de la pantalla donde se ubicará el chatbot.

**initial-right**: Posición desde la parte derecha de la pantalla donde se ubicará el chatbot.

**draggable**: Permite al usuario mover el chatbot por la pantalla si está activado. _(POR REVISAR)_

**collapsible**: Habilita la opción de colapsar y expandir el chatbot.
**linkifyTimeOut**: Tiempo en milisegundo para verificar que no se ha recibido mas mensajes del Bot, para poder agregar los hipervínculos a las URLs y E-Mails correspondientes.

## Personalización Avanzada

[Personalización del CSS](https://github.com/morrisopazo/chatbot-go-docs/wiki/Widget-%E2%80%90-Personalizaci%C3%B3n-de-Estilos): Puedes cambiar el diseño del widget editando el archivo `ChatBot.css` según sus necesidades.

## Solución de Problemas

1. **El mensaje de bienvenida desaparece pero el widget se desplaza**: Verifica que las propiedades de estilo en `ChatBot.css` estén configuradas correctamente.
2. **El widget aparece desordenado al expandirse**: Revisa las clases CSS para la alineación y los estilos de los elementos internos.

## Preguntas Frecuentes (FAQ)

**¿Cómo puedo cambiar el tiempo de duración del mensaje de bienvenida?**

- Ajusta el valor de `welcome-message-time` en el componente HTML o en `config.json`.

**¿Es posible modificar el contenido del mensaje de bienvenida sin cambiar el código fuente?**

- Sí, puedes hacerlo pasando el atributo `welcome-message` al componente o editando el `config.json`.
